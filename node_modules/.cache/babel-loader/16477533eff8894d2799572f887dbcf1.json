{"ast":null,"code":"var _jsxFileName = \"/Users/Raila/calculator/src/components/wrapper/index.js\";\nimport React, { Component } from 'react';\nimport Button from '../../components/button/index';\nimport Input from '../../components/input/index';\nimport './styles.css';\n\nclass Wrapper extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addToInput = val => {\n      if (this.state.flag === 0) {\n        if (this.state.input !== 0) {\n          this.setState({\n            input: this.state.input + \"\" + val\n          });\n        } else {\n          this.setState({\n            input: val\n          });\n        }\n      } else {\n        this.setState({\n          input: val,\n          flag: 0\n        });\n      }\n    };\n\n    this.addZeroToInput = val => {\n      if (this.state.input !== 0) {\n        this.setState({\n          input: this.state.input + \"\" + val\n        });\n      }\n    };\n\n    this.addDecimal = val => {\n      if (this.state.flag === 0) {\n        if (this.state.input === 0) {\n          this.setState({\n            input: \"0.\"\n          });\n        } else if (String(this.state.input).indexOf(\".\") === -1) {\n          this.setState({\n            input: this.state.input.replace(/^-?\\d*\\.?/, '') + \".\"\n          });\n        }\n      }\n    };\n\n    this.clearInput = () => {\n      this.setState({\n        input: 0,\n        flag: 0\n      });\n    };\n\n    this.toggleSign = () => {\n      const newValue = parseFloat(this.state.input) * -1;\n      this.setState({\n        input: newValue,\n        flag: 0\n      });\n    };\n\n    this.clearLastChar = () => {\n      if (this.state.input.length <= 1 || this.state.input.length === 0) {\n        this.setState({\n          input: 0\n        });\n      } else {\n        this.setState({\n          input: String(this.state.input).substring(0, this.state.input.length - 1)\n        });\n      }\n    };\n\n    this.add = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: \"\",\n        operator: \"plus\",\n        flag: 0\n      });\n    };\n\n    this.subtract = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: \"\",\n        operator: \"minus\",\n        flag: 0\n      });\n    };\n\n    this.multiply = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: \"\",\n        operator: \"multiply\",\n        flag: 0\n      });\n    };\n\n    this.divide = () => {\n      this.setState({\n        previousNumber: this.state.input,\n        input: \"\",\n        operator: \"divide\",\n        flag: 0\n      });\n    };\n\n    this.inputPercent = () => {\n      const currentValue = parseFloat(this.state.input);\n      if (currentValue === 0) return;\n      const newValue = parseFloat(currentValue) / 100;\n      this.setState({\n        input: newValue\n      });\n    };\n\n    this.handleKeyDown = event => {\n      let {\n        key\n      } = event;\n\n      if (/\\d/.test(key)) {\n        if (key === 0) {\n          event.preventDefault();\n          this.addZeroToInput(parseInt(key, 10));\n        } else {\n          event.preventDefault();\n          this.addToInput(parseInt(key, 10));\n        }\n      } else if (key === '*') {\n        event.preventDefault();\n        this.multiply();\n      } else if (key === '/') {\n        event.preventDefault();\n        this.divide();\n      } else if (key === '+') {\n        event.preventDefault();\n        this.add();\n      } else if (key === '-') {\n        event.preventDefault();\n        this.subtract();\n      } else if (key === ',') {\n        event.preventDefault();\n        this.addDecimal();\n      } else if (key === '%') {\n        event.preventDefault();\n        this.inputPercent();\n      } else if (key === 'Backspace') {\n        event.preventDefault();\n        this.clearLastChar();\n      } else if (key === 'c') {\n        event.preventDefault();\n        this.clearInput();\n      } else if (key === 'Enter') {\n        event.preventDefault();\n        this.evaluate();\n      }\n    };\n\n    this.evaluate = () => {\n      //usar callback\n      const newValue = parseFloat(this.state.input);\n\n      if (this.state.flag === 0) {\n        this.setState({\n          currentNumber: newValue,\n          flag: 1\n        }, () => {\n          console.log(this.state.currentNumber);\n          console.log(this.state.flag);\n\n          if (this.state.operator === \"plus\") {\n            this.setState({\n              input: parseFloat(this.state.previousNumber) + parseFloat(this.state.currentNumber)\n            });\n          }\n\n          if (this.state.operator === \"minus\") {\n            this.setState({\n              input: parseFloat(this.state.previousNumber) - parseFloat(this.state.currentNumber)\n            });\n          }\n\n          if (this.state.operator === \"divide\") {\n            this.setState({\n              input: parseFloat(this.state.previousNumber) / parseFloat(this.state.currentNumber)\n            });\n          }\n\n          if (this.state.operator === \"multiply\") {\n            this.setState({\n              input: parseFloat(this.state.previousNumber) * parseFloat(this.state.currentNumber)\n            });\n          }\n        });\n      } else if (this.state.flag === 1) {\n        this.setState({\n          flag: 1\n        }, () => {\n          if (this.state.operator === \"plus\") {\n            this.setState({\n              input: parseFloat(this.state.input) + parseFloat(this.state.currentNumber)\n            });\n          }\n\n          if (this.state.operator === \"minus\") {\n            this.setState({\n              input: this.format(parseFloat(this.state.input) - parseFloat(this.state.currentNumber))\n            });\n          }\n\n          if (this.state.operator === \"divide\") {\n            this.setState({\n              input: parseFloat(this.state.input) / parseFloat(this.state.currentNumber)\n            });\n          }\n\n          if (this.state.operator === \"multiply\") {\n            this.setState({\n              input: parseFloat(this.state.input) * parseFloat(this.state.currentNumber)\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      input: 0,\n      previousNumber: 0,\n      currentNumber: 0,\n      operator: 0,\n      flag: 0\n    };\n  }\n\n  format(result) {\n    parseFloat(result).toLocaleString(navigator.language, {\n      useGrouping: true,\n      maximumFractionDigits: 6\n    });\n    return result;\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    //const clearDisplay = this.state.input !== 0\n    //const clearText = clearDisplay ? 'C' : 'AC'\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }\n    }, this.state.input)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.clearInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, \"C\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.toggleSign,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }\n    }, \"+/-\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.inputPercent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }, \"%\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.divide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }, \"/\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.multiply,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 17\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.add,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }\n    }, \"+\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.subtract,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 17\n      }\n    }, \"-\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addDecimal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 17\n      }\n    }, \",\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addZeroToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }\n    }, \"0\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.clearLastChar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 17\n      }\n    }, \"\\u2190\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.evaluate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }\n    }, \"=\")));\n  }\n\n}\n\nexport default Wrapper;","map":{"version":3,"sources":["/Users/Raila/calculator/src/components/wrapper/index.js"],"names":["React","Component","Button","Input","Wrapper","constructor","props","addToInput","val","state","flag","input","setState","addZeroToInput","addDecimal","String","indexOf","replace","clearInput","toggleSign","newValue","parseFloat","clearLastChar","length","substring","add","previousNumber","operator","subtract","multiply","divide","inputPercent","currentValue","handleKeyDown","event","key","test","preventDefault","parseInt","evaluate","currentNumber","console","log","format","result","toLocaleString","navigator","language","useGrouping","maximumFractionDigits","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Button from '../../components/button/index'\nimport Input from '../../components/input/index'\nimport'./styles.css'\n\nclass Wrapper extends Component{\n    constructor(props){\n        super(props);\n    \n        this.state={\n        input:0,\n        previousNumber:0,\n        currentNumber:0,\n        operator: 0,\n        flag:0\n        };\n        \n    }\n\n    format(result){\n        parseFloat(result).toLocaleString(navigator.language , {\n            useGrouping: true,\n            maximumFractionDigits: 6\n          })\n        return result;\n    }\n \n    componentDidMount(){\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n      componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown)\n      }\n    addToInput = val =>{\n\n        if(this.state.flag===0){\n            if(this.state.input !==0){\n                this.setState({input: this.state.input +\"\"+val});\n            }else{\n                this.setState({input: val});\n            }\n        }else{\n            this.setState({\n                input: val,\n                flag:0\n            });\n        \n        }\n        \n    };\n\n    addZeroToInput = val =>{\n        if(this.state.input !==0){\n            this.setState({input:this.state.input +\"\"+val});\n\n        }\n    }\n\n    addDecimal = val =>{\n\n \n        \n\n        if(this.state.flag===0){\n            if(this.state.input ===0){\n                this.setState({input:\"0.\"});\n            }\n        \n            else if(String(this.state.input).indexOf(\".\")===-1){\n        \n                this.setState({input:this.state.input.replace(/^-?\\d*\\.?/, '')+\".\"});\n            }\n        }\n\n    \n    }\n    clearInput =() =>{\n\n            this.setState({\n                input:0,\n                flag:0\n            \n            });\n        \n\n    }\n\n    toggleSign =() => {\n   \n        const newValue = parseFloat(this.state.input) * -1;\n        \n        this.setState({\n         input: newValue,\n         flag:0\n        })\n    }\n    clearLastChar = () =>{\n        if (this.state.input.length <=1 ||this.state.input.length===0){\n            this.setState({input:0});\n        }else{\n        this.setState({input:String(this.state.input).substring(0, this.state.input.length - 1)});\n        }\n    }\n    add=() =>{\n    \n        this.setState({\n            previousNumber:this.state.input,\n            input:\"\",\n            operator:\"plus\",\n            flag:0\n        });\n      \n    }\n\n    subtract=() =>{\n        this.setState({previousNumber:this.state.input,\n            input:\"\",\n            operator:\"minus\",\n            flag:0\n        });\n\n    }\n\n    multiply=() =>{\n        this.setState({previousNumber:this.state.input,\n            input:\"\",\n            operator:\"multiply\",\n            flag:0\n        });\n    }\n\n    divide=() =>{\n        this.setState({previousNumber:this.state.input,\n            input:\"\",\n            operator:\"divide\",\n            flag:0\n        });\n    }\n\n    inputPercent =() =>{\n        const currentValue = parseFloat(this.state.input)\n        if (currentValue === 0)\n          return\n        const newValue = parseFloat(currentValue) / 100\n        \n        this.setState({\n         input: newValue\n        })\n    }\n\n    handleKeyDown = (event) => {\n        let { key } = event\n    \n        \n        if ((/\\d/).test(key)) {\n            if(key===0){\n                event.preventDefault()\n                this.addZeroToInput(parseInt(key, 10))\n\n            }else{\n                event.preventDefault()\n                this.addToInput(parseInt(key, 10))\n            }\n\n\n        }else if (key==='*') {\n            event.preventDefault()\n            this.multiply() \n        }\n        else if(key==='/'){\n            event.preventDefault()\n            this.divide() \n        }\n        else if (key==='+') {\n            event.preventDefault()\n            this.add() \n        }   \n        else if (key==='-') {\n            event.preventDefault()\n            this.subtract() \n        }   \n        else if (key ===',') {\n          event.preventDefault()\n          this.addDecimal()\n        } else if (key === '%') {\n          event.preventDefault()\n          this.inputPercent()\n        } else if (key === 'Backspace') {\n          event.preventDefault()\n          this.clearLastChar()\n        } else if (key === 'c') {\n          event.preventDefault()\n          this.clearInput()\n        }\n        else if (key === 'Enter'){\n            event.preventDefault()\n            this.evaluate()\n        }\n      };\n\n\n    evaluate =() =>{\n        //usar callback\n\n        const newValue = parseFloat(this.state.input)\n       \n        if (this.state.flag===0){\n\n            this.setState({\n                currentNumber:newValue,\n                flag:1\n            },()=>{ \n                console.log(this.state.currentNumber);\n                console.log(this.state.flag)\n            \n                \n            \n                if (this.state.operator ===\"plus\"){\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.previousNumber)+parseFloat(this.state.currentNumber)\n                \n                        }\n\n                    );\n                }\n\n                if (this.state.operator ===\"minus\"){\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.previousNumber)-parseFloat(this.state.currentNumber)\n                        }\n                    );\n                }\n\n                if (this.state.operator ===\"divide\"){\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.previousNumber)/parseFloat(this.state.currentNumber)\n                        }\n                    );\n                }\n\n                if (this.state.operator ===\"multiply\"){\n\n\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.previousNumber)*parseFloat(this.state.currentNumber)\n                        }\n                    );\n                }\n\n            \n\n            });\n\n        } else if (this.state.flag===1){\n            this.setState({\n                flag:1\n            },()=>{ \n                if (this.state.operator ===\"plus\"){\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.input)+parseFloat(this.state.currentNumber)\n                        }\n\n                    );\n                }\n\n                if (this.state.operator ===\"minus\"){\n                    this.setState(\n                        {\n                            input:this.format(parseFloat(this.state.input)-parseFloat(this.state.currentNumber))\n                        }\n                    );\n                }\n\n                if (this.state.operator ===\"divide\"){\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.input)/parseFloat(this.state.currentNumber)\n                        }\n                    );\n                }\n\n                if (this.state.operator ===\"multiply\"){\n\n\n                    this.setState(\n                        {\n                            input:parseFloat(this.state.input)*parseFloat(this.state.currentNumber)\n                        }\n                    );\n                }\n\n            }\n            );\n\n\n        }\n\n    }\n    render(){\n        //const clearDisplay = this.state.input !== 0\n        //const clearText = clearDisplay ? 'C' : 'AC'\n\n        return(\n            <div className=\"calc-wrapper\">\n                <div className=\"row\">\n                    <Input>{this.state.input}</Input>\n\n                </div>\n                <div className=\"row\">\n                <Button handleClick={this.clearInput}>C</Button>\n                <Button handleClick={this.toggleSign}>+/-</Button>\n                <Button handleClick={this.inputPercent}>%</Button>\n                <Button handleClick={this.divide}>/</Button>   \n                </div>\n\n                <div className=\"row\">\n                <Button handleClick={this.addToInput}>7</Button>\n                <Button handleClick={this.addToInput}>8</Button>\n                <Button handleClick={this.addToInput}>9</Button>\n                <Button handleClick={this.multiply}>*</Button>\n                \n                </div>\n\n                <div className=\"row\">\n                <Button handleClick={this.addToInput}>4</Button>\n                <Button handleClick={this.addToInput}>5</Button>\n                <Button handleClick={this.addToInput}>6</Button>\n                <Button handleClick={this.add}>+</Button>\n                \n                </div>\n            \n                <div className=\"row\">\n                <Button handleClick={this.addToInput}>1</Button>\n                <Button handleClick={this.addToInput}>2</Button>\n                <Button handleClick={this.addToInput}>3</Button>\n                <Button handleClick={this.subtract}>-</Button>\n                </div>\n\n                <div className=\"row\">\n                <Button handleClick={this.addDecimal}>,</Button>\n                <Button handleClick={this.addZeroToInput}>0</Button>\n                <Button handleClick={this.clearLastChar}>&larr;</Button>\n                <Button handleClick={this.evaluate}>=</Button>\n                \n                </div>\n\n           \n\n            </div>\n     \n        );\n\n\n\n    }\n\n}\n\nexport default Wrapper;"]},"metadata":{},"sourceType":"module"}