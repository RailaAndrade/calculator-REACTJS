{"ast":null,"code":"var _jsxFileName = \"/Users/Raila/calculator/src/components/wrapper/index.js\";\nimport React, { Component } from 'react';\nimport Button from '../../components/button/index';\nimport Input from '../../components/input/index';\nimport './styles.css';\n\nclass Wrapper extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addToInput = val => {\n      if (this.state.input !== 0) {\n        this.setState({\n          input: this.state.input + val\n        });\n      } else {\n        this.setState({\n          input: val\n        });\n      }\n    };\n\n    this.addZeroToInput = val => {\n      if (this.state.input !== 0) {\n        this.setState({\n          input: this.state.input + val\n        });\n      }\n    };\n\n    this.addDecimal = val => {\n      if (this.state.input === 0) {\n        this.setState({\n          input: 0 + val\n        });\n      } else if (this.state.input.indexOf(\".\") === -1) {\n        this.setState({\n          input: this.state.input + val\n        });\n      }\n    };\n\n    this.clearInput = () => {\n      this.setState({\n        input: 0\n      });\n    };\n\n    this.toggleSign = () => {\n      const newValue = parseFloat(this.state.input) * -1;\n      this.setState({\n        input: newValue\n      });\n    };\n\n    this.clearLastChar = () => {\n      if (this.state.input.length <= 1 || this.state.input.length === 0) {\n        this.setState({\n          input: 0\n        });\n      } else {\n        this.setState({\n          input: this.state.input.substring(0, this.state.input.length - 1)\n        });\n      }\n    };\n\n    this.add = () => {\n      this.setState({\n        previousNumber: this.state.input\n      });\n      this.setState({\n        input: \"\"\n      });\n      this.setState({\n        operator: \"plus\"\n      });\n    };\n\n    this.subtract = () => {\n      this.setState({\n        previousNumber: this.state.input\n      });\n      this.setState({\n        input: \"\"\n      }, () => {});\n      this.setState({\n        operator: \"minus\"\n      });\n    };\n\n    this.multiply = () => {\n      this.setState({\n        previousNumber: this.state.input\n      });\n      this.setState({\n        input: \"\"\n      }, () => {});\n      this.setState({\n        operator: \"multiply\"\n      });\n    };\n\n    this.divide = () => {\n      this.setState({\n        previousNumber: this.state.input\n      });\n      this.setState({\n        input: \"\"\n      });\n      this.setState({\n        operator: \"divide\"\n      });\n    };\n\n    this.inputPercent = () => {\n      const currentValue = parseFloat(this.state.input);\n      if (currentValue === 0) return;\n      const newValue = parseFloat(currentValue) / 100;\n      this.setState({\n        input: newValue\n      });\n    };\n\n    this.handleKeyDown = event => {\n      let {\n        key\n      } = event;\n      if (key === 'Enter') this.evaluate();\n\n      if (/\\d/.test(key)) {\n        event.preventDefault();\n        this.addToInput(parseInt(key, 10));\n      } else if (key === this.state.operator) {\n        event.preventDefault();\n        this.performOperation(key);\n      } else if (key === '.') {\n        event.preventDefault();\n        this.inputDot();\n      } else if (key === '%') {\n        event.preventDefault();\n        this.inputPercent();\n      } else if (key === 'Backspace') {\n        event.preventDefault();\n        this.clearLastChar();\n      } else if (key === 'c') {\n        event.preventDefault();\n\n        if (this.state.input !== '0') {\n          this.clearLastChar();\n        } else {\n          this.clearAll();\n        }\n      }\n    };\n\n    this.evaluate = () => {\n      //usar callback\n      const newValue = parseFloat(this.state.input);\n      this.setState({\n        currentNumber: newValue\n      }, () => {\n        if (this.state.operator === \"plus\") {\n          this.setState({\n            input: parseInt(this.state.previousNumber) + parseInt(this.state.currentNumber)\n          });\n        }\n\n        if (this.state.operator === \"minus\") {\n          this.setState({\n            input: parseInt(this.state.previousNumber) - parseInt(this.state.currentNumber)\n          });\n        }\n\n        if (this.state.operator === \"divide\") {\n          this.setState({\n            input: parseFloat(this.state.previousNumber) / parseFloat(this.state.currentNumber)\n          });\n        }\n\n        if (this.state.operator === \"multiply\") {\n          this.setState({\n            input: parseFloat(this.state.previousNumber) * parseFloat(this.state.currentNumber)\n          });\n        }\n      });\n    };\n\n    this.state = {\n      input: 0,\n      previousNumber: 0,\n      currentNumber: 0,\n      operator: \"\"\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, this.state.input)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.clearInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, \"C\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.toggleSign,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, \"+/-\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.inputPercent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, \"%\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.divide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, \"/\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.multiply,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, \"*\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.add,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, \"+\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.subtract,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, \"-\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addDecimal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }\n    }, \".\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.addZeroToInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, \"0\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.clearLastChar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, \"\\u2190\"), /*#__PURE__*/React.createElement(Button, {\n      handleClick: this.evaluate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, \"=\")));\n  }\n\n}\n\nexport default Wrapper;","map":{"version":3,"sources":["/Users/Raila/calculator/src/components/wrapper/index.js"],"names":["React","Component","Button","Input","Wrapper","constructor","props","addToInput","val","state","input","setState","addZeroToInput","addDecimal","indexOf","clearInput","toggleSign","newValue","parseFloat","clearLastChar","length","substring","add","previousNumber","operator","subtract","multiply","divide","inputPercent","currentValue","handleKeyDown","event","key","evaluate","test","preventDefault","parseInt","performOperation","inputDot","clearAll","currentNumber","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Button from '../../components/button/index'\nimport Input from '../../components/input/index'\nimport'./styles.css'\n\nclass Wrapper extends Component{\n    constructor(props){\n        super(props);\n    \n        this.state={\n        input:0,\n        previousNumber:0,\n        currentNumber:0,\n        operator: \"\"\n        };\n    \n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.handleKeyDown)\n      }\n      \n      componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown)\n      }\n    addToInput = val =>{\n        if(this.state.input !==0){\n            this.setState({input: this.state.input + val});\n        }else{\n            this.setState({input: val});\n        }\n\n        \n    };\n\n    addZeroToInput = val =>{\n        if(this.state.input !==0){\n            this.setState({input:this.state.input + val});\n\n        }\n    }\n\n    addDecimal = val =>{\n        if(this.state.input ===0){\n            this.setState({input:0+val});\n        }\n        else if(this.state.input.indexOf(\".\")===-1){\n    \n            this.setState({input:this.state.input + val});\n        }\n    }\n    clearInput =() =>{\n        this.setState({input:0});\n\n    }\n\n    toggleSign =() => {\n   \n        const newValue = parseFloat(this.state.input) * -1;\n        \n        this.setState({\n         input: newValue\n        })\n    }\n    clearLastChar = () =>{\n        if (this.state.input.length <=1 ||this.state.input.length===0){\n            this.setState({input:0});\n        }else{\n        this.setState({input:this.state.input.substring(0, this.state.input.length - 1)});\n        }\n    }\n    add=() =>{\n        this.setState({previousNumber:this.state.input});\n        this.setState({input:\"\"});\n        this.setState({operator:\"plus\"});\n      \n    }\n\n    subtract=() =>{\n        this.setState({previousNumber:this.state.input});\n        this.setState({input:\"\"},()=>{});\n        this.setState({operator:\"minus\"})\n    }\n\n    multiply=() =>{\n        this.setState({previousNumber:this.state.input});\n        this.setState({input:\"\"},()=>{});\n        this.setState({operator:\"multiply\"})\n    }\n\n    divide=() =>{\n        this.setState({previousNumber:this.state.input});\n        this.setState({input:\"\"});\n        this.setState({operator:\"divide\"})\n    }\n\n    inputPercent =() =>{\n        const currentValue = parseFloat(this.state.input)\n        \n        if (currentValue === 0)\n          return\n        const newValue = parseFloat(currentValue) / 100\n        \n        this.setState({\n         input: newValue\n        })\n    }\n\n    handleKeyDown = (event) => {\n        let { key } = event\n        \n        if (key === 'Enter')\n          this.evaluate()\n        \n        if ((/\\d/).test(key)) {\n          event.preventDefault()\n          this.addToInput(parseInt(key, 10))\n        }else if (key===this.state.operator) {\n            event.preventDefault()\n            this.performOperation(key) \n        }\n        else if (key === '.') {\n          event.preventDefault()\n          this.inputDot()\n        } else if (key === '%') {\n          event.preventDefault()\n          this.inputPercent()\n        } else if (key === 'Backspace') {\n          event.preventDefault()\n          this.clearLastChar()\n        } else if (key === 'c') {\n          event.preventDefault()\n          \n          if (this.state.input !== '0') {\n            this.clearLastChar()\n          } else {\n            this.clearAll()\n          }\n        }\n      };\n\n\n    evaluate =() =>{\n        //usar callback\n\n        const newValue = parseFloat(this.state.input)\n       \n        \n        this.setState({currentNumber:newValue},()=>{ \n\n       \n        \n       \n        if (this.state.operator ===\"plus\"){\n            this.setState(\n                {\n                    input:parseInt(this.state.previousNumber)+parseInt(this.state.currentNumber)\n                }\n            );\n        }\n\n        if (this.state.operator ===\"minus\"){\n            this.setState(\n                {\n                    input:parseInt(this.state.previousNumber)-parseInt(this.state.currentNumber)\n                }\n            );\n        }\n\n        if (this.state.operator ===\"divide\"){\n            this.setState(\n                {\n                    input:parseFloat(this.state.previousNumber)/parseFloat(this.state.currentNumber)\n                }\n            );\n        }\n\n        if (this.state.operator ===\"multiply\"){\n\n\n            this.setState(\n                {\n                    input:parseFloat(this.state.previousNumber)*parseFloat(this.state.currentNumber)\n                }\n            );\n        }\n    });\n\n    }\n    render(){\n\n        return(\n            <div className=\"calc-wrapper\">\n                <div className=\"row\">\n                    <Input>{this.state.input}</Input>\n\n                </div>\n                <div className=\"row\">\n                <Button handleClick={this.clearInput}>C</Button>\n                <Button handleClick={this.toggleSign}>+/-</Button>\n                <Button handleClick={this.inputPercent}>%</Button>\n                <Button handleClick={this.divide}>/</Button>   \n                </div>\n\n                <div className=\"row\">\n                <Button handleClick={this.addToInput}>7</Button>\n                <Button handleClick={this.addToInput}>8</Button>\n                <Button handleClick={this.addToInput}>9</Button>\n                <Button handleClick={this.multiply}>*</Button>\n                \n                </div>\n\n                <div className=\"row\">\n                <Button handleClick={this.addToInput}>4</Button>\n                <Button handleClick={this.addToInput}>5</Button>\n                <Button handleClick={this.addToInput}>6</Button>\n                <Button handleClick={this.add}>+</Button>\n                \n                </div>\n            \n                <div className=\"row\">\n                <Button handleClick={this.addToInput}>1</Button>\n                <Button handleClick={this.addToInput}>2</Button>\n                <Button handleClick={this.addToInput}>3</Button>\n                <Button handleClick={this.subtract}>-</Button>\n                </div>\n\n                <div className=\"row\">\n                <Button handleClick={this.addDecimal}>.</Button>\n                <Button handleClick={this.addZeroToInput}>0</Button>\n                <Button handleClick={this.clearLastChar}>&larr;</Button>\n                <Button handleClick={this.evaluate}>=</Button>\n                \n                </div>\n\n           \n\n            </div>\n     \n        );\n\n\n\n    }\n\n}\n\nexport default Wrapper;"]},"metadata":{},"sourceType":"module"}